hadoop
====
官方文档：http://hadoop.apache.org/docs/stable/index.html
### 常见版本及其区别
Apache hadoop 最原始版本

Cloudera的CDH版本

Hortonworks版本（HDP）

### CDH版安装
### HADOOP组件
主要由hadoop-common、hadoop-hdfs、map-reduce、yarn四部分构成

### HADOOP-COMMON
hdfs和mapreduce的公共库

### HADOOP-HDFS
由namenode、secondaryNamenode、datanode进程构成，其结构图如下：<br>
![hadoop-hdfs结构图](/docs/bigData/images/1-1.jpg)

HDFS文件系统对外暴露文件的层级结构（类似于linux文件系统），然而在内部是以block序列存储的，即一个文件被分为多个block存储于多个datanode节点上。

**namenode进程**<br>
HDFS类似主从（master/slave）架构，一个集群中只有一个nameNode进程，其角色类似于master；主要负责对外展示文件的层级结构、管理客户端对文件的访问，如：打开、关闭、重命名等、决定文件的block与datanode之间的映射关系。

**secondaryNamenode**

**datanode**<br>
一个集群中有多个dataNode，通常每台机器部署1个。主要负责数据存储、处理来自客户端的读写请求等（包括block的创建删除）。

### MAP-REDUCE

### YARN

### 认证机制
#### kerberos认证机制
通过Principal（类似于用户名）+keytab文件（类似于秘钥）<br>
配置方式一，启动java程序是增加如下属性配置：
>-Dhadoop.property.hadoop.security.authentication=kerberos<br>
-Dhadoop.property.hadoop.client.keytab.file=/home/panteng.keytab<br>
-Dhadoop.property.hadoop.client.kerberos.principal=panteng@XXX.HADOOP

配置方式二，在core-site.xml中增加如下配置：<br>
```xml
  		<property>
    			<name>hadoop.security.authentication</name>
    			<value>kerberos</value>
  		</property>
  		<property>
    			<name>hadoop.client.kerberos.principal</name>
    			<value>panteng@XXX.HADOOP</value>
  		</property>
  		<property>
    			<name>hadoop.client.keytab.file</name>
    			<value>path/panteng.keytab</value>
  		</property>
```
