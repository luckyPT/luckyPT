推荐系统知识梳理
====
参考：<br>
![极客时间邀请帖](/docs/ml/images/23-1.jpg)

### 推荐系统（Recommender System）在做什么
维基百科定义：是信息过滤系统中的一种，主要手段是预测用户对物品的偏好；

本质上是在让人与物品之间建立连接关系，比如：文章推荐、音乐推荐、商品推荐、视频推荐、APP推荐、好友推荐等，都是为了让人消费这个物品，与这个物品建立起连接。

同时，由于马太效应(长尾效应)的存在，导致部分热门物品占用了大量连接，尾部的物品则连接数极少，推荐系统在一定程度上来讲也是为了对抗这种不平衡。

- 能做什么？寻找到用户和物品之间可能建立的连接
- 需要什么？需要已存在的连接，通过现有连接预测未来连接发生的可能性
- 怎么做？机器推荐(个性化推荐) 和 人工推荐（编辑推荐）

### 什么场景下需要推荐系统
第一，产品的目的是为了建立更多的连接；

比如资讯类APP、电商类APP，就是为了让用户阅读更多的文章、购买更多的商品；<br>
但是一些工具类APP，比如：日历、闹钟等一般来将不会有太多的连接需求，但这个也不是绝对的，这些APP为了提高日活和使用时长，往往也会增加一些功能，比如：日历的节日相关文章推送、闹钟的工作日提醒等，那么这些推送和提醒可能也是希望用户和这些通知建立起连接关系，会涉及到文案、时间、通知样式的选择等

第二，满足第一点的前提下，说明已经存在连接；后期连接数的增长如果主要依赖用户或者是物品的增长而增长，那么这个时候对于推荐系统的需求就不是太大，而如果连接增长主要是基于现有用户和物品而增长的，那么就比较需要一个推荐系统

### 两类常见场景以及模型
预测用户打分的场景：一般对应回归模型，就是预测用户会对产品给出的打分，如：1~10分 或者 1~5颗星等<br>
预测用户行为场景：一般对应于分类模型，比如经典的CTR预估；另外一个场景是预测物品的相对排序；

对应于评分场景来说，数据获取难度比较大，数据也比较稀疏（很多人消费之后是不会评分的）；而对于行为预测来说，数据往往相对稠密一些（比如浏览时长、加购物车、收藏等）；

另外对应于评分数据属于显示反馈，往往存在一定的主观性，比如有的人就比较喜欢打高分，有的人则比较偏重于低分；而隐式反馈有时候往往更能体现用户的真实意图，比如：有的人很讨厌某个人，但还是经常浏览他的相关新闻并且时不时差评一下；

### 推荐系统中常见的问题
- 冷启动问题

- 探索与利用问题

- 安全问题

### 认识用户
通俗一点来说就是用户画像（user profile）；<br>
这里所说的认识用户或者用户画像本质上是面向机器的，当然人类可读的话是最好的，但实际上人类可不可读并不是非常重要；其表现形式是一个或者是多个向量<br>
用户画像一般包含两个要素：维度以及维度的量化<br>
维度的名称可理解、维度的数量以及有哪些维度是不确定的，需要持续探索挖掘；<br>
维度的量化应该交给机器、以目标为导向；以推荐效果来反向优化用户画像才有意义；（**目标思维**）

用户画像的构建：<br>
1. 直接使用原始数据<br>
比如：用户注册时的年龄、性别、地域；用户使用的设备型号、打开APP的时间段以及APP使用情况(如：阅读历史、购买历史等)<br>
2. 数据统计分析<br>
堆积了一定量的数据之后，进行统计分析，比如统计用户的兴趣标签(如果用户只读了一篇文章，那么统计兴趣标签意义不大，或者说兴趣标签就是这个文章的标签)、用户对每类标签的点击率、阅读的完成度等等；<br>
3. 黑盒<br>
用机器学习的方法，构建人类不可读的稠密向量；比如将设备型号、地域等表达为稠密向量；

用户画像数据的分类:<br>
基础类（原始数据）、行为类（统计分析得到）、衍生类（统计分析得到）、模型类（黑盒数据、算法训练得到）；

### 基于文本构建用户画像
文本数据往往是非结构化的，需要将非结构化数据转为结构化数据；<br>
1、关键词提取(如：TF-IDF & TEXT RANK)<br>
2、实体识别<br>
3、文本分类<br>
4、文本聚类<br>
5、预测文本的主题模型(文本在各个主题上的概率分布)<br>
6、embedding<br>

### 特征选择
1.卡方检验

2.信息增益

